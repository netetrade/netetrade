<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Netetrade.com Afi≈ü Tasarƒ±mƒ±</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script src="https://d3js.org/topojson.v3.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }

        /* ----- Deƒüi≈ükenler ----- */
        .theme-light {
            --bg-color: #ffffff;
            --text-primary: #1f2937;
            --text-secondary: #4b5563;
            --text-accent: #b91c1c;
            --card-bg: #f9fafb;
            --card-border: #e5e7eb;
            --card-hover-border: #ef4444;
            --icon-color: #dc2626;
            --ai-bg: #f3f4f6;
            --ai-text-primary: #111827;
            --ai-text-accent: #b91c1c;
            --stat-border: #e5e7eb;
            --footer-bg: #f9fafb;
            --cta-bg: #b91c1c;
            --cta-hover-bg: #991b1b;
            --menu-bg: #ffffff;
            --menu-text: #374151;
            --menu-hover-bg: #f3f4f6;
            --input-bg: #ffffff;
            --input-border: #d1d5db;
            --input-text: #111827;
            --gemini-output-bg: #ffffff;
            --lead-bg: #ffffff;
            --map-bg: #f9fafb;
            --map-land: #e5e7eb;
            --map-border: #ffffff;
            --map-highlight: #ef4444;
            --notification-bg: rgba(255, 255, 255, 0.9);
            --ticker-bg: #ffffff;
        }

        .theme-dark {
            --bg-color: transparent;
            --text-primary: #ffffff;
            --text-secondary: #d1d5db;
            --text-accent: #ef4444;
            --card-bg: rgba(17, 24, 39, 0.7);
            --card-border: #1f2937;
            --card-hover-border: #ef4444;
            --icon-color: #f87171;
            --ai-bg: rgba(0, 0, 0, 0.5);
            --ai-text-primary: #ffffff;
            --ai-text-accent: #ef4444;
            --stat-border: #1f2937;
            --footer-bg: rgba(0, 0, 0, 0.7);
            --cta-bg: #dc2626;
            --cta-hover-bg: #b91c1c;
            --menu-bg: #1f2937;
            --menu-text: #d1d5db;
            --menu-hover-bg: #374151;
            --input-bg: #374151;
            --input-border: #4b5563;
            --input-text: #ffffff;
            --gemini-output-bg: rgba(17, 24, 39, 0.8);
            --lead-bg: #111827;
            --map-bg: #111827;
            --map-land: #374151;
            --map-border: #111827;
            --map-highlight: #f87171;
            --notification-bg: rgba(23, 31, 44, 0.9);
            --ticker-bg: #111827;
        }
        
        #poster-container { transition: background 0.5s ease-in-out, border-color 0.5s ease-in-out; }
        .theme-light { background-color: var(--bg-color); }
        .dark-gradient-bg { background: linear-gradient(135deg, #1f2937 0%, #000000 100%); }
        
        .special-offer { background: linear-gradient(45deg, #b91c1c, #7f1d1d); }
        
        .loader {
            border: 4px solid #f3f3f3; border-top: 4px solid #ef4444;
            border-radius: 50%; width: 24px; height: 24px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        .lead-card { opacity: 0; transform: translateY(20px); animation: fadeIn 0.5s ease-out forwards; }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }

        .country { transition: fill 0.5s ease; }
        .country-highlight { animation: pulse 1.5s infinite; }
        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }

        /* Bildirim Stilleri */
        .notification-popup {
            transition: all 0.5s ease-in-out;
            transform: translateX(-120%);
            opacity: 0;
        }
        .notification-popup.show {
            transform: translateX(0);
            opacity: 1;
        }

        /* Logo Bandƒ± Stilleri */
        .ticker-wrap { overflow: hidden; }
        .ticker { display: inline-block; white-space: nowrap; animation: scroll 60s linear infinite; }
        .ticker-item { display: inline-block; padding: 0 2rem; }
        .ticker-item img { max-height: 40px; filter: grayscale(100%); transition: filter 0.3s; }
        .ticker-item:hover img { filter: grayscale(0%); }
        @keyframes scroll {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }

    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4 sm:p-6 lg:p-8 transition-colors duration-500">
    
    <div id="poster-container" class="theme-light max-w-4xl w-full mx-auto rounded-2xl shadow-2xl overflow-hidden relative" style="color: var(--text-primary); border: 1px solid var(--card-border);">

        <!-- Kontrol D√ºƒümeleri -->
        <div class="absolute z-20 top-4 right-4 flex items-center gap-2">
            <div id="lang-menu-container" class="relative">
                <button id="lang-menu-button" class="p-2 h-10 w-12 flex items-center justify-center rounded-full bg-gray-800 bg-opacity-70 backdrop-blur-sm text-white font-bold hover:bg-opacity-90 shadow-lg transition-all text-sm">TR</button>
                <div id="lang-dropdown" class="hidden absolute right-0 mt-2 w-36 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none" style="background-color: var(--menu-bg);">
                    <div class="py-1">
                        <a href="#" class="lang-option block px-4 py-2 text-sm" style="color: var(--menu-text);" data-lang-option="tr">T√ºrk√ße</a>
                        <a href="#" class="lang-option block px-4 py-2 text-sm" style="color: var(--menu-text);" data-lang-option="en">English</a>
                        <a href="#" class="lang-option block px-4 py-2 text-sm" style="color: var(--menu-text);" data-lang-option="de">Deutsch</a>
                        <a href="#" class="lang-option block px-4 py-2 text-sm" style="color: var(--menu-text);" data-lang-option="es">Espa√±ol</a>
                        <a href="#" class="lang-option block px-4 py-2 text-sm" style="color: var(--menu-text);" data-lang-option="fr">Fran√ßais</a>
                        <a href="#" class="lang-option block px-4 py-2 text-sm" style="color: var(--menu-text);" data-lang-option="ar">ÿßŸÑÿπÿ±ÿ®Ÿäÿ©</a>
                        <a href="#" class="lang-option block px-4 py-2 text-sm" style="color: var(--menu-text);" data-lang-option="ru">–†—É—Å—Å–∫–∏–π</a>
                        <a href="#" class="lang-option block px-4 py-2 text-sm" style="color: var(--menu-text);" data-lang-option="zh">‰∏≠Êñá</a>
                    </div>
                </div>
            </div>
            <button id="theme-switcher" class="p-2 h-10 w-10 flex items-center justify-center rounded-full bg-gray-800 bg-opacity-70 backdrop-blur-sm text-white hover:bg-opacity-90 shadow-lg transition-all">
                <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" /></svg>
                <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" /></svg>
            </button>
        </div>

        <!-- Canlƒ± Aktivite Bildirimleri Konteyneri -->
        <div id="notification-container" class="absolute bottom-4 left-4 z-20 space-y-2"></div>
        
        <header class="p-8 md:p-12 text-center relative">
            <h1 class="text-4xl md:text-6xl font-black tracking-tight uppercase" style="color: var(--text-primary);">
                NET<span style="color: var(--text-accent);">E</span>TRADE.COM
            </h1>
            <p id="slogan" class="text-sm md:text-base font-semibold tracking-widest mt-2" style="color: var(--text-secondary);" data-lang="slogan">GLOBAL TRADE CENTER</p>
        </header>

        <main class="p-8 md:p-10 transition-colors duration-500">
            <section class="mb-10 text-center">
                 <p class="text-lg md:text-xl leading-relaxed max-w-3xl mx-auto" style="color: var(--text-secondary);" data-lang="intro">
                    Netetrade.com, uluslararasƒ± bir end√ºstriyel ticaret ve i≈ü aƒüƒ± platformudur. K√ºresel pazarda etkili olmak isteyen √ºretici ve ihracat√ßƒ± firmalar i√ßin <span class="font-bold" style="color: var(--text-accent);">dijital d√∂n√º≈ü√ºm √ß√∂z√ºmleri</span> sunar.
                </p>
            </section>

            <section id="ai-section" class="mb-10 p-8 rounded-2xl transition-colors duration-500" style="background-color: var(--ai-bg);">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-2" style="color: var(--ai-text-primary);" data-lang="aiTitle">üéØ Pazar Fƒ±rsatlarƒ±nƒ±zƒ± Canlƒ± G√∂r√ºn</h2>
                <p class="text-center text-sm mb-6" style="color: var(--text-secondary);" data-lang="aiSubtitle">Yapay zekanƒ±n sizin i√ßin potansiyel pazarlarƒ± ve m√º≈üteri taleplerini nasƒ±l bulduƒüunu deneyimleyin.</p>
                
                <div class="mt-4 max-w-lg mx-auto">
                    <input id="product-input" type="text" class="w-full px-4 py-2 rounded-md shadow-inner transition" style="background-color: var(--input-bg); border: 1px solid var(--input-border); color: var(--input-text);" data-lang-placeholder="placeholder">
                    <button id="generate-button" class="w-full mt-3 px-4 py-2 font-bold text-white rounded-md shadow-md transition-transform transform hover:scale-105" style="background-color: var(--text-accent);">
                        <span data-lang="generateButton">Fƒ±rsatlarƒ± Analiz Et</span>
                    </button>
                </div>

                <div id="results-container" class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6 items-center min-h-[300px]">
                    <div id="map-container" class="w-full h-full rounded-lg" style="background-color: var(--map-bg);">
                         <svg id="world-map" width="100%" height="100%" viewBox="0 0 960 500"></svg>
                    </div>
                    <div id="gemini-output" class="p-2 space-y-3">
                        <!-- Y√ºkleniyor animasyonu ve mesajƒ± buraya gelecek -->
                    </div>
                </div>
            </section>
            
            <section class="mb-10">
                <h2 class="text-2xl md:text-3xl font-bold text-center mb-8" style="color: var(--text-primary);" data-lang="featuresTitle">Platform <span style="color: var(--text-accent);">√ñzellikleri</span></h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <div class="feature-card p-6 rounded-xl transition-all duration-300" style="background-color: var(--card-bg); border: 1px solid var(--card-border);">
                        <div class="flex items-center space-x-4">
                             <svg class="feature-icon w-8 h-8" style="color: var(--icon-color);" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 10.5l4.72-4.72a.75.75 0 0 1 1.28.53v11.38a.75.75 0 0 1-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 0 0 2.25-2.25v-9A2.25 2.25 0 0 0 13.5 5.25h-9A2.25 2.25 0 0 0 2.25 7.5v9A2.25 2.25 0 0 0 4.5 18.75Z" /></svg>
                            <h3 class="font-semibold text-lg" style="color: var(--text-primary);" data-lang="liveMeetings">Canlƒ± Toplantƒ±lar</h3>
                        </div>
                    </div>
                     <div class="feature-card p-6 rounded-xl transition-all duration-300" style="background-color: var(--card-bg); border: 1px solid var(--card-border);">
                        <div class="flex items-center space-x-4">
                           <svg class="feature-icon w-8 h-8" style="color: var(--icon-color);" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5ZM13.5 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5Z" /></svg>
                            <h3 class="font-semibold text-lg" style="color: var(--text-primary);" data-lang="qrCard">QR ile Kartvizit</h3>
                        </div>
                    </div>
                    <div class="feature-card p-6 rounded-xl transition-all duration-300" style="background-color: var(--card-bg); border: 1px solid var(--card-border);">
                        <div class="flex items-center space-x-4">
                            <svg class="feature-icon w-8 h-8" style="color: var(--icon-color);" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m5.231 13.5h-8.01a1.5 1.5 0 0 1-1.5-1.5V7.5a1.5 1.5 0 0 1 1.5-1.5h8.01" /></svg>
                            <h3 class="font-semibold text-lg" style="color: var(--text-primary);" data-lang="quotes">Teklif Alma/Verme</h3>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="my-12 p-8 rounded-2xl text-center text-white special-offer transform hover:scale-105 transition-transform duration-300">
                <h3 class="text-xl font-bold uppercase" data-lang="campaignTitle">T√ºrk √úreticilere √ñzel Kampanya</h3>
                <p class="text-4xl md:text-5xl font-black mt-2" data-lang="campaignGift">50" 4K QLED Google TV</p>
                <p class="text-3xl font-bold text-yellow-300 mt-1" data-lang="gift">HEDƒ∞YE!</p>
            </section>
            
             <section class="mb-10 text-center">
                 <h2 class="text-2xl md:text-3xl font-bold text-center mb-8" style="color: var(--text-primary);" data-lang="whyTitle">Neden <span style="color: var(--text-accent);">Netetrade?</span></h2>
                 <div class="flex flex-col md:flex-row justify-center items-center gap-8 md:gap-12">
                     <div class="text-center p-4">
                         <p class="text-5xl font-extrabold" style="color: var(--text-accent);">175</p>
                         <p class="text-lg mt-1" style="color: var(--text-secondary);" data-lang="why1">√úlkede G√∂r√ºn√ºrl√ºk</p>
                     </div>
                     <div class="stats-divider text-center p-4 border-t-2 md:border-t-0 md:border-l-2 md:border-r-2" style="border-color: var(--stat-border);">
                         <p class="text-5xl font-extrabold" style="color: var(--text-accent);">300.000+</p>
                         <p class="text-lg mt-1" style="color: var(--text-secondary);" data-lang="why2">G√ºnl√ºk Ziyaret√ßi</p>
                     </div>
                      <div class="text-center p-4">
                         <p class="text-5xl font-extrabold" style="color: var(--text-accent);" data-lang="why3_title">Tek Platform</p>
                         <p class="text-lg mt-1" style="color: var(--text-secondary);" data-lang="why3">Dijitalle≈üme & Global Eri≈üim</p>
                     </div>
                 </div>
            </section>
        </main>

        <footer id="footer" class="p-8 text-center transition-colors duration-500" style="background-color: var(--footer-bg);">
             <p class="text-xl md:text-2xl font-semibold" style="color: var(--text-primary);" data-lang="footerText">Siz de bu g√º√ßl√º aƒüa katƒ±larak sƒ±nƒ±rlarƒ± a≈üƒ±n ve i≈üinizi global seviyeye ta≈üƒ±yƒ±n!</p>
             <a id="cta-button" href="https://netetrade.com" target="_blank" class="mt-6 inline-block text-white font-bold py-4 px-12 rounded-lg text-lg transition-all transform hover:scale-105 shadow-lg" style="background-color: var(--cta-bg);" data-lang="ctaButton">
                Hemen Ba≈üvurun
            </a>
            <!-- Logo Bandƒ± -->
            <div class="ticker-wrap w-full mt-8 py-4" style="background-color: var(--ticker-bg);">
                <div id="logo-ticker" class="ticker">
                    <!-- Logolar buraya eklenecek -->
                </div>
            </div>
        </footer>
    </div>

    <script>
        const translations = {
            tr: {
                slogan: "GLOBAL TRADE CENTER",
                intro: "Netetrade.com, uluslararasƒ± bir end√ºstriyel ticaret ve i≈ü aƒüƒ± platformudur. K√ºresel pazarda etkili olmak isteyen √ºretici ve ihracat√ßƒ± firmalar i√ßin <span class=\"font-bold\" style=\"color: var(--text-accent);\">dijital d√∂n√º≈ü√ºm √ß√∂z√ºmleri</span> sunar.",
                featuresTitle: "Temel <span style=\"color: var(--text-accent);\">√ñzellikler</span>",
                liveMeetings: "Canlƒ± Toplantƒ±lar",
                qrCard: "QR ile Kartvizit",
                catalogs: "Katalog & Sunumlar",
                quotes: "Teklif Alma/Verme",
                aiTitle: "üéØ Pazar Fƒ±rsatlarƒ±nƒ±zƒ± Canlƒ± G√∂r√ºn",
                aiSubtitle: "Yapay zekanƒ±n sizin i√ßin potansiyel pazarlarƒ± ve m√º≈üteri taleplerini nasƒ±l bulduƒüunu deneyimleyin.",
                placeholder: "≈ûirketinizin adƒ±nƒ± yazƒ±n...",
                generateButton: "Fƒ±rsatlarƒ± Analiz Et",
                campaignTitle: "T√ºrk √úreticilere √ñzel Kampanya",
                campaignGift: "50\" 4K QLED Google TV",
                gift: "HEDƒ∞YE!",
                whyTitle: "Neden <span style=\"color: var(--text-accent);\">Netetrade?</span>",
                why1: "√úlkede G√∂r√ºn√ºrl√ºk",
                why2: "G√ºnl√ºk Ziyaret√ßi",
                why3_title: "Tek Platform",
                why3: "Dijitalle≈üme & Global Eri≈üim",
                footerText: "Siz de bu g√º√ßl√º aƒüa katƒ±larak sƒ±nƒ±rlarƒ± a≈üƒ±n ve i≈üinizi global seviyeye ta≈üƒ±yƒ±n!",
                ctaButton: "Hemen Ba≈üvurun",
                scanningText: "Potansiyel pazarlar ve alƒ±cƒ±lar taranƒ±yor...",
                notifications: [
                    "Brezilya'dan bir alƒ±cƒ±, makine par√ßalarƒ± i√ßin teklif istedi.",
                    "Almanya'daki bir firma, tekstil √ºr√ºnleri i√ßin yeni bir talep olu≈üturdu.",
                    "Hindistan'dan bir ≈üirket, T√ºrk mermer √ºreticileriyle ileti≈üime ge√ßti.",
                    "Katar'dan bir in≈üaat firmasƒ±, yapƒ± malzemeleri i√ßin teklif topluyor."
                ],
                geminiPrompt: (product) => `Bir B2B e-ticaret platformu olan Netetrade.com i√ßin, '${product}' adlƒ± ≈üirkete √∂zel, 3 adet sim√ºle edilmi≈ü uluslararasƒ± m√º≈üteri talebi (lead) olu≈ütur. Her talep farklƒ± bir √ºlkeden gelmeli ve ger√ßek√ßi bir ≈üirket adƒ± i√ßermelidir. Talepler, o √ºlkenin ithalat potansiyeline uygun, spesifik √ºr√ºn miktarlarƒ± veya i≈übirliƒüi teklifleri i√ßermelidir. Cevabƒ±, ayrƒ±≈ütƒ±rƒ±labilir bir JSON formatƒ±nda, ≈üu yapƒ±da ver: {"leads": [{"country": "√úlke Adƒ±", "country_code": "iki harfli √ºlke kodu", "company": "Alƒ±cƒ± ≈ûirket Adƒ±", "message": "Talep mesajƒ±"}, ...]}`
            },
            en: {
                slogan: "GLOBAL TRADE CENTER",
                intro: "Netetrade.com is an international industrial trade and business network platform. It offers <span class=\"font-bold\" style=\"color: var(--text-accent);\">digital transformation solutions</span> for manufacturing and exporting companies that want to be effective in the global market.",
                featuresTitle: "Key <span style=\"color: var(--text-accent);\">Features</span>",
                liveMeetings: "Live Meetings",
                qrCard: "QR Code Business Card",
                catalogs: "Catalogs & Presentations",
                quotes: "Request/Submit Quotes",
                aiTitle: "üéØ See Your Market Opportunities Live",
                aiSubtitle: "Experience how AI finds potential markets and customer leads for you.",
                placeholder: "Enter your company's name...",
                generateButton: "Analyze Opportunities",
                campaignTitle: "Special Offer for Turkish Manufacturers",
                campaignGift: "50\" 4K QLED Google TV",
                gift: "GIFT!",
                whyTitle: "Why <span style=\"color: var(--text-accent);\">Netetrade?</span>",
                why1: "Visibility in Countries",
                why2: "Daily Visitors",
                why3_title: "One Platform",
                why3: "Digitalization & Global Reach",
                footerText: "Join this powerful network to transcend borders and take your business to a global level!",
                ctaButton: "Apply Now",
                scanningText: "Scanning for potential markets and buyers...",
                notifications: [
                    "A buyer from Brazil just requested a quote for machine parts.",
                    "A company in Germany created a new request for textile products.",
                    "A company from India has contacted Turkish marble producers.",
                    "A construction firm from Qatar is collecting bids for building materials."
                ],
                geminiPrompt: (product) => `For Netetrade.com, a B2B e-commerce platform, generate 3 simulated international customer requests (leads) for a company named '${product}'. Each request must come from a different country and include a realistic company name. The requests should contain specific product quantities or collaboration proposals suitable for that country's import potential. Provide the answer in a parsable JSON format with this structure: {"leads": [{"country": "Country Name", "country_code": "two-letter country code", "company": "Buyer Company Name", "message": "Request message"}, ...]}`,
            },
            // Diƒüer diller i√ßin √ßeviriler buraya eklenecek...
            de: {}, es: {}, fr: {}, ar: {}, ru: {}, zh: {}
        };

        const themeSwitcher = document.getElementById('theme-switcher');
        const posterContainer = document.getElementById('poster-container');
        const sunIcon = document.getElementById('sun-icon');
        const moonIcon = document.getElementById('moon-icon');
        const body = document.body;
        
        const langMenuButton = document.getElementById('lang-menu-button');
        const langDropdown = document.getElementById('lang-dropdown');
        const langOptions = document.querySelectorAll('[data-lang-option]');
        let currentLanguage = 'tr';

        const generateButton = document.getElementById('generate-button');
        const productInput = document.getElementById('product-input');
        const geminiOutput = document.getElementById('gemini-output');
        
        const svg = d3.select("#world-map");
        const projection = d3.geoMercator().scale(130).center([0, 40]).translate([480, 250]);
        const path = d3.geoPath().projection(projection);

        function drawMap(world) {
            svg.selectAll(".country").remove(); // Haritayƒ± temizle
            svg.append("g")
                .selectAll("path")
                .data(topojson.feature(world, world.objects.countries).features)
                .enter().append("path")
                .attr("d", path)
                .attr("class", "country")
                .style("fill", "var(--map-land)")
                .style("stroke", "var(--map-border)")
                .style("stroke-width", 0.5);
        }
        
        function highlightCountries(countryCodes) {
            svg.selectAll(".country")
                .style("fill", d => countryCodes.includes(d.properties.name) ? "var(--map-highlight)" : "var(--map-land)")
                .classed("country-highlight", d => countryCodes.includes(d.properties.name));
        }

        // Tema deƒüi≈ütirme fonksiyonu
        themeSwitcher.addEventListener('click', () => {
            const isDark = posterContainer.classList.contains('theme-dark');
            if (isDark) {
                posterContainer.classList.remove('theme-dark', 'dark-gradient-bg');
                posterContainer.classList.add('theme-light');
                body.classList.remove('bg-gray-900');
                body.classList.add('bg-gray-100');
            } else {
                posterContainer.classList.remove('theme-light');
                posterContainer.classList.add('theme-dark', 'dark-gradient-bg');
                body.classList.remove('bg-gray-100');
                body.classList.add('bg-gray-900');
            }
            sunIcon.classList.toggle('hidden');
            moonIcon.classList.toggle('hidden');
            // Tema deƒüi≈ütiƒüinde haritayƒ± yeniden √ßiz
            d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json").then(drawMap);
        });

        // Dil men√ºs√ºn√º a√ß/kapat
        langMenuButton.addEventListener('click', (event) => {
            event.stopPropagation();
            langDropdown.classList.toggle('hidden');
        });

        // Dil se√ßeneƒüine tƒ±klandƒ±ƒüƒ±nda
        langOptions.forEach(option => {
            option.addEventListener('click', (event) => {
                event.preventDefault();
                const selectedLang = event.currentTarget.dataset.langOption;
                currentLanguage = selectedLang;
                updateTexts();
                langMenuButton.textContent = selectedLang.toUpperCase();
                langDropdown.classList.add('hidden');
            });
        });

        // Dƒ±≈üarƒ±ya tƒ±klandƒ±ƒüƒ±nda men√ºy√º kapat
        window.addEventListener('click', (event) => {
            if (!langMenuButton.contains(event.target) && !langDropdown.contains(event.target)) {
                langDropdown.classList.add('hidden');
            }
        });

        function updateTexts() {
            document.querySelectorAll('[data-lang]').forEach(element => {
                const key = element.dataset.lang;
                if (translations[currentLanguage] && translations[currentLanguage][key]) {
                    element.innerHTML = translations[currentLanguage][key];
                }
            });
             // Placeholder metnini de g√ºncelle
            const placeholderKey = 'placeholder';
            if (translations[currentLanguage] && translations[currentLanguage][placeholderKey]) {
                productInput.placeholder = translations[currentLanguage][placeholderKey];
            }
        }
        
        // Gemini API √áaƒürƒ±sƒ±
        generateButton.addEventListener('click', async () => {
            const companyName = productInput.value.trim();
            if (!companyName) {
                geminiOutput.innerHTML = `<p style="color: var(--text-secondary);">${translations[currentLanguage].placeholder || 'L√ºtfen bir ≈üirket adƒ± girin.'}</p>`;
                return;
            }
            
            d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json").then(drawMap);

            geminiOutput.innerHTML = `
                <div class="flex items-center justify-center space-x-2 h-full">
                    <div class="loader"></div>
                    <span style="color: var(--text-secondary);">${translations[currentLanguage].scanningText || 'Taranƒ±yor...'}</span>
                </div>
            `;
            generateButton.disabled = true;

            try {
                const promptText = translations[currentLanguage].geminiPrompt(companyName);
                
                const payload = {
                    contents: [{ parts: [{ text: promptText }] }],
                    generationConfig: { responseMimeType: "application/json" }
                };

                const apiKey = "AIzaSyBw-kk4pX0sxNXBmhgGbSujYJrUpNCoHi4";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) throw new Error(`API isteƒüi ba≈üarƒ±sƒ±z oldu: ${response.status}`);

                const result = await response.json();
                const textResponse = result.candidates[0].content.parts[0].text;
                const jsonResponse = JSON.parse(textResponse);
                
                geminiOutput.innerHTML = ''; // Temizle

                if (jsonResponse.leads && jsonResponse.leads.length > 0) {
                    const countryNames = jsonResponse.leads.map(lead => lead.country);
                    highlightCountries(countryNames);

                    jsonResponse.leads.forEach((lead, index) => {
                        setTimeout(() => {
                            const leadCard = document.createElement('div');
                            leadCard.className = 'lead-card p-3 rounded-lg shadow-md flex items-start space-x-3';
                            leadCard.style.backgroundColor = 'var(--lead-bg)';
                            leadCard.style.animationDelay = `${index * 0.2}s`;
                            
                            leadCard.innerHTML = `
                                <img src="https://flagcdn.com/w40/${lead.country_code.toLowerCase()}.png" alt="${lead.country}" class="w-10 h-auto rounded-md mt-1">
                                <div>
                                    <p class="font-bold text-sm" style="color: var(--text-primary);">${lead.company} (${lead.country})</p>
                                    <p class="text-xs" style="color: var(--text-secondary);">${lead.message}</p>
                                </div>
                            `;
                            geminiOutput.appendChild(leadCard);
                        }, index * 300);
                    });
                } else {
                    geminiOutput.innerHTML = `<p style="color: var(--text-secondary);">Yapay zekadan ge√ßerli bir yanƒ±t alƒ±namadƒ±. L√ºtfen tekrar deneyin.</p>`;
                }

            } catch (error) {
                console.error('Gemini API Hatasƒ±:', error);
                geminiOutput.innerHTML = `<p style="color: var(--text-secondary);">Bir hata olu≈ütu. L√ºtfen daha sonra tekrar deneyin.</p>`;
            } finally {
                generateButton.disabled = false;
            }
        });
        
        // Logo Bandƒ± Fonksiyonu
        function setupLogoTicker() {
            // Netetrade.com'da yer alan ger√ßek firmalardan bazƒ±larƒ±
            const logos = ['pangolin-stone.com', 'safandarley.com', 'petekplastik.com.tr', 'fart-italia.com', 'gfs-filter.com', 'lampon.it', 'ozgorkey.com', 'martur.com.tr', 'hes.com.tr'];
            const ticker = document.getElementById('logo-ticker');
            const logoHtml = logos.map(logo => `<div class="ticker-item"><img src="https://logo.clearbit.com/${logo}" alt="${logo}" onerror="this.style.display='none'"></div>`).join('');
            ticker.innerHTML = logoHtml + logoHtml; // Sorunsuz d√∂ng√º i√ßin kopyala
        }

        // Canlƒ± Bildirim Fonksiyonu
        function showNotification() {
            const container = document.getElementById('notification-container');
            if (!translations[currentLanguage] || !translations[currentLanguage].notifications) return;
            
            const messages = translations[currentLanguage].notifications;
            const message = messages[Math.floor(Math.random() * messages.length)];

            const notification = document.createElement('div');
            notification.className = 'notification-popup p-3 rounded-lg shadow-lg flex items-center space-x-3 max-w-xs';
            notification.style.backgroundColor = 'var(--notification-bg)';
            notification.style.backdropFilter = 'blur(5px)';

            notification.innerHTML = `
                <div class="flex-shrink-0">
                    <svg class="w-6 h-6" style="color: var(--text-accent);" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" /></svg>
                </div>
                <p class="text-sm" style="color: var(--text-secondary);">${message}</p>
            `;

            container.appendChild(notification);
            
            // Bildirimi g√∂ster
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);

            // Bildirimi 5 saniye sonra kaldƒ±r
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    if (container.contains(notification)) {
                        container.removeChild(notification);
                    }
                }, 500);
            }, 5000);
        }

        // Sayfa y√ºklendiƒüinde metinleri, haritayƒ± ve diƒüer √∂zellikleri ayarla
        document.addEventListener('DOMContentLoaded', () => {
            updateTexts();
            d3.json("https://cdn.jsdelivr.net/npm/world-atlas@2/countries-110m.json").then(drawMap);
            setupLogoTicker();
            setInterval(showNotification, 8000); // 8 saniyede bir bildirim g√∂ster
        });
    </script>
</body>
</html>
